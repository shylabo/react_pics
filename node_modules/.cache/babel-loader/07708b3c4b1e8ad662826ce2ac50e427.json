{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/Users/a14631/Documents/React/pics/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/a14631/Documents/React/pics/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/a14631/Documents/React/pics/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/a14631/Documents/React/pics/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";var ImageCard=/*#__PURE__*/function(_React$Component){_inherits(ImageCard,_React$Component);var _super=_createSuper(ImageCard);function ImageCard(props){var _this;_classCallCheck(this,ImageCard);_this=_super.call(this,props);_this.setSpans=function(){var height=_this.imageRef.current.clientHeight;var spans=Math.ceil(height/10);_this.setState({spans:spans});};_this.state={spans:0};_this.imageRef=/*#__PURE__*/React.createRef();return _this;}_createClass(ImageCard,[{key:\"componentDidMount\",value:function componentDidMount(){this.imageRef.current.addEventListener(\"load\",this.setSpans);}//APIで取得したJSON内のプロパティを取得する\n},{key:\"render\",//Spanの値をもとに動的にstyleを当てる\nvalue:function render(){var _this$props$image=this.props.image,description=_this$props$image.description,urls=_this$props$image.urls;return/*#__PURE__*/_jsx(\"div\",{style:{gridRowEnd:\"span \".concat(this.state.spans)},children:/*#__PURE__*/_jsx(\"img\",{ref:this.imageRef,alt:description,src:urls.regular})});}}]);return ImageCard;}(React.Component);export default ImageCard;","map":{"version":3,"sources":["/Users/a14631/Documents/React/pics/src/components/ImageCard.js"],"names":["React","ImageCard","props","setSpans","height","imageRef","current","clientHeight","spans","Math","ceil","setState","state","createRef","addEventListener","image","description","urls","gridRowEnd","regular","Component"],"mappings":"+nBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,S,kHACJ,mBAAYC,KAAZ,CAAmB,2CACjB,uBAAMA,KAAN,EADiB,MAUnBC,QAVmB,CAUR,UAAM,CACf,GAAMC,CAAAA,MAAM,CAAG,MAAKC,QAAL,CAAcC,OAAd,CAAsBC,YAArC,CACA,GAAMC,CAAAA,KAAK,CAAGC,IAAI,CAACC,IAAL,CAAUN,MAAM,CAAG,EAAnB,CAAd,CACA,MAAKO,QAAL,CAAc,CAAEH,KAAK,CAALA,KAAF,CAAd,EACD,CAdkB,CAEjB,MAAKI,KAAL,CAAa,CAAEJ,KAAK,CAAE,CAAT,CAAb,CACA,MAAKH,QAAL,cAAgBL,KAAK,CAACa,SAAN,EAAhB,CAHiB,aAIlB,C,mFAEmB,CAClB,KAAKR,QAAL,CAAcC,OAAd,CAAsBQ,gBAAtB,CAAuC,MAAvC,CAA+C,KAAKX,QAApD,EACD,CACD;gBAOA;uBACS,uBACuB,KAAKD,KAAL,CAAWa,KADlC,CACCC,WADD,mBACCA,WADD,CACcC,IADd,mBACcA,IADd,CAEP,mBACE,YAAK,KAAK,CAAE,CAAEC,UAAU,gBAAU,KAAKN,KAAL,CAAWJ,KAArB,CAAZ,CAAZ,uBACE,YAAK,GAAG,CAAE,KAAKH,QAAf,CAAyB,GAAG,CAAEW,WAA9B,CAA2C,GAAG,CAAEC,IAAI,CAACE,OAArD,EADF,EADF,CAKD,C,uBAzBqBnB,KAAK,CAACoB,S,EA4B9B,cAAenB,CAAAA,SAAf","sourcesContent":["import React from \"react\";\n\nclass ImageCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { spans: 0 };\n    this.imageRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.imageRef.current.addEventListener(\"load\", this.setSpans);\n  }\n  //APIで取得したJSON内のプロパティを取得する\n  setSpans = () => {\n    const height = this.imageRef.current.clientHeight;\n    const spans = Math.ceil(height / 10);\n    this.setState({ spans });\n  };\n\n  //Spanの値をもとに動的にstyleを当てる\n  render() {\n    const { description, urls } = this.props.image;\n    return (\n      <div style={{ gridRowEnd: `span ${this.state.spans}` }}>\n        <img ref={this.imageRef} alt={description} src={urls.regular} />\n      </div>\n    );\n  }\n}\n\nexport default ImageCard;\n"]},"metadata":{},"sourceType":"module"}